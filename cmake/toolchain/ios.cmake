set(CMAKE_SYSTEM_NAME iOS)
set(CMAKE_OSX_DEPLOYMENT_TARGET 16.0)

if(CMAKE_OSX_SYSROOT STREQUAL "iphoneos")
    set(CMAKE_SYSTEM_PROCESSOR aarch64)
    set(CMAKE_OSX_ARCHITECTURES arm64)
elseif(CMAKE_OSX_SYSROOT STREQUAL "iphonesimulator")
    set(CMAKE_OSX_ARCHITECTURES arm64 x86_64)
    set(CMAKE_XCODE_ATTRIBUTE_ONLY_ACTIVE_ARCH NO)
else()
    message(FATAL_ERROR "CMAKE_OSX_SYSROOT isn't specified")
endif()

set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)
